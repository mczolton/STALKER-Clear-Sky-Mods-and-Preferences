#include "common.h"
Texture2D s_vollight;
struct _input {
float4 tc0:TEXCOORD0;
};
struct _out
{
float4 low:SV_Target0;
float4 high:SV_Target1;
};
_out main(_input I)
{
float tm_scale=I.tc0.w;
_out o;
float4 color;
color=s_vollight.Sample(smp_nofilter,I.tc0);
tonemap(o.low,o.high,color,tm_scale);
return o;
}