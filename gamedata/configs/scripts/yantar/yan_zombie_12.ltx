[logic]
active = camper
on_death = death@12
on_combat = combat
suitable = {-yan_stop_spawn_cut6} true

[death@12]
;on_info = {=in_zone(yan_roof_cut6_restr)} %=dec_counter(yan_zombie_roof)%
on_info = %=dec_counter(yan_zombie_roof)%

[combat]
combat_type = zombied

[camper]
group = 8

radius = 0
path_walk = yan_walker_zombie_cut6_way_12_walk
path_look = yan_walker_zombie_cut6_way_12_look
def_state_campering = threat
def_state_campering_fire = threat_fire
;on_info = {+yan_stop_spawn_cut6} nil
danger = danger_condition
no_retreat = true
combat_ignore_cond = {=fighting_dist_ge(3)}
;combat_ignore_keep_when_attacked = true
on_info = {=in_zone(yan_roof_cut6_restr)} camper@2 %=inc_counter(yan_zombie_roof)%

[camper@2]
group = 8
out_restr = yan_roof_cut6_restr
radius = 0
path_walk = yan_walker_zombie_cut6_way_12a_walk
path_look = yan_walker_zombie_cut6_way_12a_look
def_state_campering = threat
def_state_campering_fire = threat_fire
danger = danger_condition
;on_info = {+yan_stop_spawn_cut6} nil
no_retreat = true 
combat_ignore_cond = {=fighting_dist_ge(3)}
;on_signal = stop | nil

[danger_condition]
ignore_distance_sound = 0
ignore_distance = 0
ignore_distance_corpse = 0