[logic]
active = sr_idle@bandit_base_box

[sr_idle@bandit_base_box]
on_info = sr_idle@story_messenger %=spawn_object_in(af_night_star:gar_treasure_quest_bandit_base) =spawn_object_in(af_electra_moonlight:gar_treasure_quest_bandit_base)%

[sr_idle@story_messenger]
on_info = {+gar_story_searched_digger_body} sr_idle@story_messenger_dogs_spawn %=create_squad(gar_digger_messenger_man:gar_smart_terrain_8_5)%

[sr_idle@story_messenger_dogs_spawn]
on_info = {+gar_story_spawn_messenger_dogs} sr_idle@story_messenger_dogs_exist %=create_squad(gar_digger_messenger_dogs:gar_smart_terrain_6_5)%

[sr_idle@story_messenger_dogs_exist]
on_info = {=squad_exist(gar_digger_messenger_dogs)} sr_idle@story_to_darkvalley_main

[sr_idle@story_to_darkvalley_main]
on_info = {+gar_story_got_info_from_digger} sr_idle@story_to_darkvalley_stalkers

[sr_idle@story_to_darkvalley_stalkers]
;on_actor_not_in_zone = gar_space_restrictor_stalkers_to_darkvalley | sr_idle@story_bandit_ambush %=clear_smart_terrain(gar_smart_terrain_6_6) =create_squad(gar_stalkers_to_darkvalley:gar_smart_terrain_6_6) +gar_story_stalkers_to_darkvalley%
on_actor_not_in_zone = gar_space_restrictor_stalkers_to_darkvalley | sr_idle@story_bandit_ambush %=clear_smart_terrain(gar_smart_terrain_8_5) +gar_story_stalkers_to_darkvalley%
;on_actor_not_in_zone = gar_space_restrictor_stalkers_to_darkvalley | sr_idle@story_bandit_ambush %+gar_story_stalkers_to_darkvalley%

[sr_idle@story_bandit_ambush]
on_info = {+gar_story_need_to_go_to_cache} sr_idle@end_section, {+gar_story_spawn_ambush_bandits} sr_idle@end_section %=spawn_object(gar_bandit_ambush_1:gar_bandit_ambush_1_walk) =spawn_object(gar_bandit_ambush_2:gar_bandit_ambush_2_walk)%

[sr_idle@end_section]